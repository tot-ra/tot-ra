четверг, 5 июня 2008 г. в 17:02:15

Большинство систем оплат работают по принципу ворот (gateway) - передал данные, они обработались и вернулись. С клиентом или без него. Сегодня на devclub я рассказывал об эстонских pangalink'ах, но на самом деле я в последнее время интересовался кредитками. О них сегодня тоже рассказывали, перескажу коротко.

[Kaardikeskus](http://www.estcard.ee/) - эстонский сервис. Договор заключается с отчислениями сервису в районе 3% (наверняка с фиксированной минимальной платой) и минимальной суммарной платой в месяц 200 крон. Протокол самодельный, документация даётся при заключении договора, работает тоже по принципу pangalink-ов. На основе данных делается подпись, клиент переходит на сайт kaardikeskus'а и там уже вбивает данные о кредитке, а возвращаясь надо проверить подписи.

[DIBS](http://tech.dibs.dk/index.php?option=com_frontpage&Itemid=1) - датский сервис, с которым я работал. Детально расписана документация. В плане безопасности - используется симметричная подпись. Позволяет как с помощью POST-запросов (у них называется flexwin) обмениваться инфой, так и в состоянии server-to-server. Однако поскольку хранение кредиток на сайте считается очень опасным (и требующим аудита по безопасности), то для последнего типа оплаты создаётся ID транзакции, т.н. ticket. Протокол общения с сервером в этом случае - SOAP

[Cybersource](http://www.cybersource.com/support_center/implementation/downloads/) - американский сервис, многоплатформенный и с шестью вариантами оплаты в том числе SOAP, криптование с помощью php-расширения, оплата на их сайте (как в Dibs), или же наиболее нормальный вариант с POST'ом на их гейт, который редиректит отбратно с конкретными ошибками. В этом случае ассиметричное шифрование по sha1

Также непроверенные, но любопытные сайты и сервисы по теме:

- hsbc.com
- ideal.nl
- 2checkout.com
- Authorize.Net
- ccavenue.com
- chronopay.ru
- gspay.com
- innovativegateway.com
- [BankEuroPay](http://bankeuropay.com/)
- [Telepay](http://billing-system.org/)
- [ChargeGateway](http://chargegateway.com/)
- [Miva Merchant](http://www.mivamerchant.com/services/payment/)