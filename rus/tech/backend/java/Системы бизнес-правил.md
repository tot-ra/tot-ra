пятница, 30 января 2009 г. в 20:56:17

Побывал сегодня на [devclub](http://www.devclub.eu/), где презентацию проводил Кирилл Литник из [Webmedia](http://webmedia.ee/), поэтому я делаю маленький пересказ.

BRMS - системы по управлинию бизнес правилами. А бизнес правила это любые правила которые есть в предприятии. В простых проектах  зачатком этого можно считать динамические настройки.

Примерами таких систем являются [iLog](http://www.ilog.com/), [Drools](http://jboss.org/drools/). Примером использования таких систем может служить случай когда на Ebay сразу после падения станции Мир были запрещены продажи его остатков. Системы активно используются в банках и телекоммуникационных компаниях (Visa, JPMorgan).

Нужны такие системы когда правил (if-else) в коде очень много или же правила надо менять без изменения кода приложения, через web-приложение. Ещё они полезны когда есть старые legacy-системы (доставшиеся по наследству) которым по 15 лет, скажем в PLSQL и необходимо модернизировать логику и приложение.

iLog состоит из

- Rule studio - плагин для Eclipse где настраиваются
- Rule team server - веб среда. Можно лочить правила что-бы никто не изменил. Есть версионность правил.
- Rule Scenario Manager - среда для проверки правил, в том числе правила которые невозможно исполнить, их пересечение и тп.
- Rule repository
- Rule execution server - имеются два типа исполнения правил - embedded тип, либо как компонент jar (что менее удобно).

---

Тестить можно либо в Web GUI, в Eclipse (через XML export), либо Excel (тоже XML). Есть версии iLog для java, cobol, .NET (хитрая интеграция с Office, Excel, Sharepoint). iLog куплена была IBM, возможно его будут интегрировать с Websphere. От Drools он отличается поддержкой JMS, j2ee, более натуральным языком создания правил и готовности к корпоративным системам.

На уровне кода - программист создаёт объект (хоть из БД) и передаёт его в iLog, где тоже создаётся модель для этого объекта и его properties. Дальше в правилах учитываются эти property и вызываются действия - изменения property объектов или вызов некоторых методов.

Правила выполняются по двум возможным сценариям - [BOM или XOM](http://www.ilog.com/products/jrules/documentation/jrules67/rsruleproj/rs_rup_bom2xom.html). Правила могут группироваться в потоки (rule flow) которые могут достигать и тысяч и по сути это огромные независимые процессы в компании.

iLog платный в отличие от Drools. Распространяется под разными продуктами:

- Per application
- Per processor
- Enterprise